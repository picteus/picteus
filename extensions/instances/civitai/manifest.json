{
  "id": "civitai",
  "version": "1.0.0",
  "name": "Civitai",
  "description": "Interacts with Civitai images.",
  "runtimes": [
    {
      "environment": "node"
    }
  ],
  "instructions": [
    {
      "events": ["process.started", "process.runCommand"],
      "execution": {
        "executable": "${node}",
        "arguments": ["./dist/main.js"]
      },
      "commands": [
        {
          "id": "fetchImages",
          "on": {
            "entity": "Process"
          },
          "parameters": {
            "type": "object",
            "properties": {
              "source": {
                "type": "object",
                "description": "The source of data.",
                "oneOf": [
                  {
                    "title": "User",
                    "properties": {
                      "userName": {
                        "type": "string",
                        "title": "User",
                        "description": "The identifier of the Civitai user",
                        "minLength": 1,
                        "maxLength": 64,
                        "default": "Lady_Luminous"
                      }
                    },
                    "required": ["userName"]
                  },
                  {
                    "title": "Post",
                    "properties": {
                      "postId": {
                        "type": "string",
                        "title": "Post id",
                        "description": "The identifier of the Civitai post",
                        "minLength": 1,
                        "maxLength": 64,
                        "default": "10502296"
                      }
                    },
                    "required": ["postId"]
                  }
                ]
              },
              "count": {
                "type": "integer",
                "title": "Count",
                "description": "The number of images to fetch",
                "minimum": 1,
                "maximum": 100,
                "default": 10
              }
            },
            "required": ["source", "count"]
          },
          "specifications": [
            {
              "locale": "en",
              "label": "Fetch images from a Civitai user or post",
              "description": "Asks the user the identifier of the Civitai user or of a post, a number of images, and then fetches the corresponding count of latest images and stores them with their metadata and sources in the extension's repository."
            }
          ]
        }
      ]
    }
  ],
  "ui": {
    "elements": [
      {
        "anchor": "window",
        "url": "https://civitai.com"
      }
    ]
  },
  "settings": {
    "type": "object"
  }
}

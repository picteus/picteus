{
  "openapi": "3.1.0",
  "paths": {
    "/miscellaneous/ping": {
      "get": {
        "description": "Enables to check that the service is accessible.",
        "operationId": "miscellaneous_ping",
        "parameters": [],
        "responses": {
          "200": {
            "description": "The response, which should be 'pong'",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "none": []
          }
        ],
        "summary": "Pings the service",
        "tags": [
          "miscellaneous"
        ]
      }
    },
    "/miscellaneous/test": {
      "get": {
        "description": "This endpoint is for experimentation only.",
        "operationId": "miscellaneous_test",
        "parameters": [],
        "responses": {
          "200": {
            "description": "The response",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "Runs a test",
        "tags": [
          "miscellaneous"
        ]
      }
    },
    "/administration/migrateDatabase": {
      "put": {
        "description": "Runs the migration scripts on the database.",
        "operationId": "administration_migrateDatabase",
        "parameters": [],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Migrates the database",
        "tags": [
          "administration"
        ]
      }
    },
    "/settings/get": {
      "get": {
        "description": "Returns all the application settings.",
        "operationId": "settings_get",
        "parameters": [],
        "responses": {
          "200": {
            "description": "The settings",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Settings"
                }
              }
            }
          }
        },
        "summary": "Gets all the settings",
        "tags": [
          "settings"
        ]
      }
    },
    "/settings/set": {
      "put": {
        "description": "This enables to tune the application settings.",
        "operationId": "settings_set",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "The extension archive",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Settings"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The settings",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Settings"
                }
              }
            }
          }
        },
        "summary": "Sets all the settings",
        "tags": [
          "settings"
        ]
      }
    },
    "/apiSecret/list": {
      "get": {
        "description": "Returns all available API secrets without their values.",
        "operationId": "apisecret_list",
        "parameters": [],
        "responses": {
          "200": {
            "description": "The list of all API secrets",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ApiSecretSummary"
                  }
                }
              }
            }
          }
        },
        "summary": "Lists all API secrets",
        "tags": [
          "apiSecret"
        ]
      }
    },
    "/apiSecret/create": {
      "post": {
        "description": "Declares a new API secret with the provided metadata.",
        "operationId": "apisecret_create",
        "parameters": [
          {
            "name": "type",
            "required": true,
            "in": "query",
            "description": "The API secret type",
            "schema": {
              "$ref": "#/components/schemas/ApiSecretType"
            }
          },
          {
            "name": "name",
            "required": true,
            "in": "query",
            "description": "The API secret name",
            "schema": {
              "minLength": 1,
              "maxLength": 128,
              "example": "My key",
              "type": "string"
            }
          },
          {
            "name": "expirationDate",
            "required": false,
            "in": "query",
            "description": "The expiration date",
            "schema": {
              "minimum": 0,
              "format": "int64",
              "example": 1760890442560,
              "type": "number"
            }
          },
          {
            "name": "comment",
            "required": false,
            "in": "query",
            "description": "A comment about the API secret",
            "schema": {
              "minLength": 1,
              "maxLength": 1024,
              "example": "For the xxx application",
              "type": "string"
            }
          },
          {
            "name": "scope",
            "required": false,
            "in": "query",
            "description": "The API secret scope",
            "schema": {
              "minLength": 1,
              "maxLength": 64,
              "example": "image:read,repository:read",
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "The created API secret with its scope and value",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiSecret"
                }
              }
            }
          }
        },
        "summary": "Creates an API secret",
        "tags": [
          "apiSecret"
        ]
      }
    },
    "/apiSecret/{id}/get": {
      "delete": {
        "description": "Returns the details about an API secret.",
        "operationId": "apisecret_get",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The API secret identifier",
            "schema": {
              "format": "int32",
              "example": 123,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The API secret",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiSecret"
                }
              }
            }
          }
        },
        "summary": "Gets an API secret",
        "tags": [
          "apiSecret"
        ]
      }
    },
    "/apiSecret/{id}/delete": {
      "delete": {
        "description": "Once deleted, it cannot be used anymore.",
        "operationId": "apisecret_delete",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The API secret identifier",
            "schema": {
              "format": "int32",
              "example": 123,
              "type": "number"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Deletes an API secret",
        "tags": [
          "apiSecret"
        ]
      }
    },
    "/extension/getConfiguration": {
      "get": {
        "description": "Returns the details in terms of all installed extensions capabilities, i.e. what they can offer, and the command they offer.",
        "operationId": "extension_getConfiguration",
        "parameters": [],
        "responses": {
          "200": {
            "description": "The extensions configuration",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExtensionsConfiguration"
                }
              }
            }
          }
        },
        "summary": "Provides the extensions configuration",
        "tags": [
          "extension"
        ]
      }
    },
    "/extension/list": {
      "get": {
        "description": "Returns all installed extensions.",
        "operationId": "extension_list",
        "parameters": [],
        "responses": {
          "200": {
            "description": "The extensions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Extension"
                  }
                }
              }
            }
          }
        },
        "summary": "Lists all extensions",
        "tags": [
          "extension"
        ]
      }
    },
    "/extension/activities": {
      "get": {
        "description": "Returns all the installed and active extensions activities.",
        "operationId": "extension_activities",
        "parameters": [],
        "responses": {
          "200": {
            "description": "The list of all installed and active extensions activities",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ExtensionActivity"
                  }
                }
              }
            }
          }
        },
        "summary": "Indicates the extension activities",
        "tags": [
          "extension"
        ]
      }
    },
    "/extension/{id}/get": {
      "get": {
        "description": "Returns the details about an extension.",
        "operationId": "extension_get",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The extension details and its manual",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExtensionAndManual"
                }
              }
            }
          }
        },
        "summary": "Gets an extension",
        "tags": [
          "extension"
        ]
      }
    },
    "/extension/install": {
      "post": {
        "description": "Analyzes the extension and installs it.",
        "operationId": "extension_install",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "The extension archive",
          "content": {
            "application/zip": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 8388608
              }
            },
            "application/gzip": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 8388608
              }
            },
            "application/x-gzip": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 8388608
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The extension",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Extension"
                }
              }
            }
          }
        },
        "summary": "Installs an extension",
        "tags": [
          "extension"
        ]
      }
    },
    "/extension/{id}/update": {
      "put": {
        "description": "Analyzes the extension and updates it.",
        "operationId": "extension_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "The extension archive",
          "content": {
            "application/zip": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 8388608
              }
            },
            "application/gzip": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 8388608
              }
            },
            "application/x-gzip": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 8388608
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The extension",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Extension"
                }
              }
            }
          }
        },
        "summary": "Updates an extension",
        "tags": [
          "extension"
        ]
      }
    },
    "/extension/{id}/uninstall": {
      "delete": {
        "description": "Stops the extension and uninstalls it.",
        "operationId": "extension_uninstall",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Uninstalls an extension",
        "tags": [
          "extension"
        ]
      }
    },
    "/extension/{id}/pauseOrResume": {
      "put": {
        "description": "Either stops and marks it as paused the extension or starts it.",
        "operationId": "extension_pauseOrResume",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          },
          {
            "name": "isPause",
            "required": true,
            "in": "query",
            "description": "Whether the extension should be paused",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Pauses or resumes an extension",
        "tags": [
          "extension"
        ]
      }
    },
    "/extension/{id}/getSettings": {
      "get": {
        "description": "Returns the settings of an extension.",
        "operationId": "extension_getSettings",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The extension settings",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExtensionSettings"
                }
              }
            }
          }
        },
        "summary": "Gets an extension settings",
        "tags": [
          "extension"
        ]
      }
    },
    "/extension/{id}/setSettings": {
      "put": {
        "description": "Defines the settings of an extension.",
        "operationId": "extension_setSettings",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "The extension settings",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExtensionSettings"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Sets an extension settings",
        "tags": [
          "extension"
        ]
      }
    },
    "/extension/{id}/synchronize": {
      "put": {
        "description": "Iterates over all images available in the repositories and asks the extension to operate its work if the image is not indexed by it.",
        "operationId": "extension_synchronize",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Synchronizes the images via an extension",
        "tags": [
          "extension"
        ]
      }
    },
    "/extension/{id}/runProcessCommand": {
      "put": {
        "description": "Runs the command defined for the process, by triggering the relevant event to the extension.",
        "operationId": "extension_runProcessCommand",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          },
          {
            "name": "commandId",
            "required": true,
            "in": "query",
            "description": "The identifier of the command",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": false,
          "description": "The command parameters",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Object"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Runs a command exposed by an extension, on the process",
        "tags": [
          "extension"
        ]
      }
    },
    "/extension/{id}/runImageCommand": {
      "put": {
        "description": "Runs the command defined for images, by triggering the relevant event to the extension.",
        "operationId": "extension_runImageCommand",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          },
          {
            "name": "commandId",
            "required": true,
            "in": "query",
            "description": "The identifier of the command",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "imageIds",
            "required": true,
            "in": "query",
            "description": "The identifiers of the images the command should be run against",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        ],
        "requestBody": {
          "required": false,
          "description": "The command parameters",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Object"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Runs a command exposed by an extension, on images",
        "tags": [
          "extension"
        ]
      }
    },
    "/extension/{id}/installChromeExtension": {
      "put": {
        "description": "It will only work provided the server is hosted by an Electron application.",
        "operationId": "extension_installChromeExtension",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          },
          {
            "name": "chromeExtensionName",
            "required": true,
            "in": "query",
            "description": "The name of the Chrome extension, which should match with the content of its manifest file provided in the payload",
            "schema": {
              "minLength": 1,
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "The Chrome extension compressed tarball or zip archive",
          "content": {
            "application/zip": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 67108864
              }
            },
            "application/gzip": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 67108864
              }
            },
            "application/x-gzip": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 67108864
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Installs a Chrome extension",
        "tags": [
          "extension"
        ]
      }
    },
    "/extension/generate": {
      "put": {
        "description": "Scaffolds an extension respecting a set of specifications.",
        "operationId": "extension_generate",
        "parameters": [
          {
            "name": "withPublicSdk",
            "required": true,
            "in": "query",
            "description": "Should the extension be dependent on the public extension SDK or the internal private one",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "The extension specifications",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExtensionGenerationOptions"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "A zip file of the generated extension",
            "content": {
              "application/zip": {
                "schema": {
                  "type": "string",
                  "format": "binary",
                  "maxLength": 8388608
                }
              }
            }
          }
        },
        "summary": "Generates an extension",
        "tags": [
          "extension"
        ]
      }
    },
    "/extension/build": {
      "put": {
        "description": "Compiles and packages an extension from its source code.",
        "operationId": "extension_build",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "The extension archive",
          "content": {
            "application/zip": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 8388608
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "A zip file of the built extension",
            "content": {
              "application/zip": {
                "schema": {
                  "type": "string",
                  "format": "binary",
                  "maxLength": 8388608
                }
              },
              "application/x-gzip": {
                "schema": {
                  "type": "string",
                  "format": "binary",
                  "maxLength": 8388608
                }
              }
            }
          }
        },
        "summary": "Builds an extension",
        "tags": [
          "extension"
        ]
      }
    },
    "/repository/list": {
      "get": {
        "description": "Lists all the declared repositories.",
        "operationId": "repository_list",
        "parameters": [],
        "responses": {
          "200": {
            "description": "The list of all registered repositories",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Repository"
                  }
                }
              }
            }
          }
        },
        "summary": "Lists repositories",
        "tags": [
          "repository"
        ]
      }
    },
    "/repository/{id}/get": {
      "get": {
        "description": "Returns a single repository.",
        "operationId": "repository_get",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The repository identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The repository",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Repository"
                }
              }
            }
          }
        },
        "summary": "Gets a repository",
        "tags": [
          "repository"
        ]
      }
    },
    "/repository/create": {
      "post": {
        "description": "Declares a new repository.",
        "operationId": "repository_create",
        "parameters": [
          {
            "name": "type",
            "required": true,
            "in": "query",
            "description": "The repository type",
            "schema": {
              "enum": [
                "file"
              ],
              "type": "string"
            }
          },
          {
            "name": "url",
            "required": true,
            "in": "query",
            "description": "The repository URL",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "required": true,
            "in": "query",
            "description": "The repository name",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "comment",
            "required": false,
            "in": "query",
            "description": "The repository comment",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "watch",
            "required": false,
            "in": "query",
            "description": "Whether the repository should be watched immediately ; when not defined, this parameter has the implicit 'false' value",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "technicalId",
            "required": false,
            "in": "query",
            "description": "The technical identifier",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "The created repository",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Repository"
                }
              }
            }
          }
        },
        "summary": "Creates a repository",
        "tags": [
          "repository"
        ]
      }
    },
    "/repository/ensure": {
      "put": {
        "description": "Ensures that a repository with type 'file' and with the provided identifier exists, and if not, creates it.",
        "operationId": "repository_ensure",
        "parameters": [
          {
            "name": "technicalId",
            "required": true,
            "in": "query",
            "description": "The repository technical identifier",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "required": true,
            "in": "query",
            "description": "The repository name",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "comment",
            "required": false,
            "in": "query",
            "description": "The repository comment",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "watch",
            "required": false,
            "in": "query",
            "description": "Whether the repository should be watched immediately ; when not defined, this parameter has the implicit 'false' value",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The already existing or newly created repository",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Repository"
                }
              }
            }
          }
        },
        "summary": "Ensures a repository exists",
        "tags": [
          "repository"
        ]
      }
    },
    "/repository/startOrStop": {
      "put": {
        "description": "Starts all the repositories, resume synchronization if necessary and starts watching them, or stops them.",
        "operationId": "repository_startOrStop",
        "parameters": [
          {
            "name": "isStart",
            "required": true,
            "in": "query",
            "description": "Whether the repositories should be started or stopped",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Starts or stop the repositories",
        "tags": [
          "repository"
        ]
      }
    },
    "/repository/{id}/synchronize": {
      "put": {
        "description": "Synchronizes a repository against its back-end.",
        "operationId": "repository_synchronize",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The repository identifier",
            "schema": {
              "description": "A repository identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "9aa0820f-6405-4b54-a01a-a6b56489a77f"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Synchronizes a repository",
        "tags": [
          "repository"
        ]
      }
    },
    "/repository/{id}/watch": {
      "put": {
        "description": "Starts or stops listening to the repository back-end images changes.",
        "operationId": "repository_watch",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The repository identifier",
            "schema": {
              "description": "A repository identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "9aa0820f-6405-4b54-a01a-a6b56489a77f"
            }
          },
          {
            "name": "isStart",
            "required": true,
            "in": "query",
            "description": "Whether the repository should start or stop watching",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Starts or stops watching a repository",
        "tags": [
          "repository"
        ]
      }
    },
    "/repository/{id}/delete": {
      "delete": {
        "description": "Deletes a repository along with all the images attached to it.",
        "operationId": "repository_delete",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The repository identifier",
            "schema": {
              "description": "A repository identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "9aa0820f-6405-4b54-a01a-a6b56489a77f"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Deletes a repository",
        "tags": [
          "repository"
        ]
      }
    },
    "/repository/activities": {
      "get": {
        "description": "Returns all the declared repositories activities.",
        "operationId": "repository_activities",
        "parameters": [],
        "responses": {
          "200": {
            "description": "The list of all registered repositories activities",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RepositoryActivity"
                  }
                }
              }
            }
          }
        },
        "summary": "Indicates the repositories activities",
        "tags": [
          "repository"
        ]
      }
    },
    "/repository/tags": {
      "get": {
        "description": "Returns the tags of all images extensions.",
        "operationId": "repository_getTags",
        "parameters": [],
        "responses": {
          "200": {
            "description": "The tags for all extensions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ExtensionImageTag"
                  }
                }
              }
            }
          }
        },
        "summary": "Gets all the tags",
        "tags": [
          "repository"
        ]
      }
    },
    "/repository/{id}/searchImages": {
      "get": {
        "description": "Searches images within the repository with the provided criteria.",
        "operationId": "repository_searchImages",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The repository identifier",
            "schema": {
              "description": "A repository identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "9aa0820f-6405-4b54-a01a-a6b56489a77f"
            }
          },
          {
            "name": "criteria",
            "required": false,
            "in": "query",
            "description": "The criteria that will be applied to the search as a filter",
            "explode": true,
            "style": "deepObject",
            "schema": {
              "$ref": "#/components/schemas/SearchCriteria"
            }
          },
          {
            "name": "sorting",
            "required": false,
            "in": "query",
            "description": "Indicates how the search results should be sorted",
            "explode": true,
            "style": "deepObject",
            "schema": {
              "$ref": "#/components/schemas/SearchSorting"
            }
          },
          {
            "name": "range",
            "required": false,
            "in": "query",
            "description": "The range of items to consider following the search",
            "explode": true,
            "style": "deepObject",
            "schema": {
              "$ref": "#/components/schemas/SearchRange"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The list of images corresponding to the criteria",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImageSummaryList"
                }
              }
            }
          }
        },
        "summary": "Searches for images within the repository",
        "tags": [
          "repository"
        ]
      }
    },
    "/repository/getImageByUrl": {
      "get": {
        "description": "Returns the details about an image.",
        "operationId": "repository_getImageByUrl",
        "parameters": [
          {
            "name": "url",
            "required": true,
            "in": "query",
            "description": "The image URL",
            "schema": {
              "description": "An image URL",
              "type": "string",
              "format": "uri",
              "pattern": "file://.*",
              "minLength": 8,
              "maxLength": 4096,
              "example": "file:///Users/me/image//path/fileName.png"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The image details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Image"
                }
              }
            }
          }
        },
        "summary": "Gets an image from its URL",
        "tags": [
          "repository"
        ]
      }
    },
    "/repository/{id}/renameImage": {
      "put": {
        "description": "Renames the file of an image in a repository.",
        "operationId": "repository_renameImage",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The repository identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          },
          {
            "name": "imageId",
            "required": true,
            "in": "query",
            "description": "The image identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          },
          {
            "name": "nameWithoutExtension",
            "required": true,
            "in": "query",
            "description": "The new file name without the file extension",
            "schema": {
              "pattern": "^[^<>:,?\"*|/\\]+$",
              "example": "nameWithoutExtension",
              "type": "string"
            }
          },
          {
            "name": "relativeDirectoryPath",
            "required": false,
            "in": "query",
            "description": "The relative directory path within the repository that will host the image",
            "schema": {
              "pattern": "^[^<>:,?\"*|]+$",
              "example": "relative/path",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The image details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Image"
                }
              }
            }
          }
        },
        "summary": "Renames an image",
        "tags": [
          "repository"
        ]
      }
    },
    "/repository/{id}/storeImage": {
      "post": {
        "description": "Declares an image in the repository and returns it.",
        "operationId": "repository_storeImage",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The repository identifier",
            "schema": {
              "description": "A repository identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "9aa0820f-6405-4b54-a01a-a6b56489a77f"
            }
          },
          {
            "name": "sourceUrl",
            "required": false,
            "in": "query",
            "description": "The URL of the image source",
            "schema": {
              "type": "string",
              "format": "uri",
              "minimum": 8,
              "maxLength": 4096,
              "example": "https://inovexus.com/wp-content/uploads/2024/09/Inovexus_Aive.png"
            }
          },
          {
            "name": "parentId",
            "required": false,
            "in": "query",
            "description": "The identifier of the image parent image",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          },
          {
            "name": "applicationMetadata",
            "required": false,
            "in": "query",
            "description": "The JSON string representing the application metadata",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "relativeDirectoryPath",
            "required": false,
            "in": "query",
            "description": "The relative directory path within the repository that will host the image",
            "schema": {
              "pattern": "^[^<>:,?\"*|]+$",
              "example": "relative/path",
              "type": "string"
            }
          },
          {
            "name": "nameWithoutExtension",
            "required": false,
            "in": "query",
            "description": "The image file name, without its extension",
            "schema": {
              "pattern": "^[^<>:,?\"*|/\\]+$",
              "example": "nameWithoutExtension",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "The image file",
          "content": {
            "image/png": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/jpeg": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/webp": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/gif": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/avif": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/heif": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The image details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Image"
                }
              }
            }
          }
        },
        "summary": "Creates an image in the repository",
        "tags": [
          "repository"
        ]
      }
    },
    "/image/search": {
      "get": {
        "description": "Searches images, given criteria.",
        "operationId": "image_search",
        "parameters": [
          {
            "name": "criteria",
            "required": false,
            "in": "query",
            "description": "The criteria that will be applied to the search as a filter",
            "explode": true,
            "style": "deepObject",
            "schema": {
              "$ref": "#/components/schemas/SearchCriteria"
            }
          },
          {
            "name": "sorting",
            "required": false,
            "in": "query",
            "description": "Indicates how the search results should be sorted",
            "explode": true,
            "style": "deepObject",
            "schema": {
              "$ref": "#/components/schemas/SearchSorting"
            }
          },
          {
            "name": "range",
            "required": false,
            "in": "query",
            "description": "The range of items to consider following the search",
            "explode": true,
            "style": "deepObject",
            "schema": {
              "$ref": "#/components/schemas/SearchRange"
            }
          },
          {
            "name": "ids",
            "required": false,
            "in": "query",
            "description": "The repository identifiers the images should belong to",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The images matching the criteria",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImageSummaryList"
                }
              }
            }
          }
        },
        "summary": "Searches images",
        "tags": [
          "image"
        ]
      }
    },
    "/image/{id}/get": {
      "get": {
        "description": "Returns the details about an image.",
        "operationId": "image_get",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The image identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The image details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Image"
                }
              }
            }
          }
        },
        "summary": "Gets an image",
        "tags": [
          "image"
        ]
      }
    },
    "/image/{id}/synchronize": {
      "put": {
        "description": "Runs all extensions capabilities against the image.",
        "operationId": "image_synchronize",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The image identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The image details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Image"
                }
              }
            }
          }
        },
        "summary": "Synchronizes an image",
        "tags": [
          "image"
        ]
      }
    },
    "/image/{id}/modify": {
      "put": {
        "description": "Updates the content of an image via a file.",
        "operationId": "image_modify",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The image identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "The image file",
          "content": {
            "image/png": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/jpeg": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/webp": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/gif": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/avif": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/heif": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The image details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Image"
                }
              }
            }
          }
        },
        "summary": "Modifies an image",
        "tags": [
          "image"
        ]
      }
    },
    "/image/{id}/delete": {
      "delete": {
        "description": "Deletes the image from the back-end and from the databases.",
        "operationId": "image_delete",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The image identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Deletes an image",
        "tags": [
          "image"
        ]
      }
    },
    "/image/{id}/download": {
      "get": {
        "description": "Returns the binary form of an image.",
        "operationId": "image_download",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The image identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          },
          {
            "name": "format",
            "required": false,
            "in": "query",
            "description": "The image format",
            "schema": {
              "$ref": "#/components/schemas/ImageFormat"
            }
          },
          {
            "name": "width",
            "required": false,
            "in": "query",
            "description": "The image maximum width ; if not defined, the original width is used",
            "schema": {
              "format": "int32",
              "type": "number"
            }
          },
          {
            "name": "height",
            "required": false,
            "in": "query",
            "description": "The image maximum height ; if not defined, the original height is used",
            "schema": {
              "format": "int32",
              "type": "number"
            }
          },
          {
            "name": "resizeRender",
            "required": false,
            "in": "query",
            "description": "The way the image should be resized",
            "schema": {
              "$ref": "#/components/schemas/ImageResizeRender"
            }
          },
          {
            "name": "stripMetadata",
            "required": false,
            "in": "query",
            "description": "Whether the image metadata should be stripped",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The image file",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/png": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/jpeg": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/webp": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/gif": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/avif": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/heif": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "summary": "Downloads an image",
        "tags": [
          "image"
        ]
      }
    },
    "/image/{id}/mediaUrl": {
      "get": {
        "description": "Returns the URL of the image, given for some given dimensions and format, which may used to display it.",
        "operationId": "image_mediaUrl",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The image identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          },
          {
            "name": "format",
            "required": false,
            "in": "query",
            "description": "The image format",
            "schema": {
              "$ref": "#/components/schemas/ImageFormat"
            }
          },
          {
            "name": "width",
            "required": false,
            "in": "query",
            "description": "The image maximum width ; if not defined, the original width is used",
            "schema": {
              "format": "int32",
              "type": "number"
            }
          },
          {
            "name": "height",
            "required": false,
            "in": "query",
            "description": "The image maximum height ; if not defined, the original height is used",
            "schema": {
              "format": "int32",
              "type": "number"
            }
          },
          {
            "name": "resizeRender",
            "required": false,
            "in": "query",
            "description": "The way the image should be resized",
            "schema": {
              "$ref": "#/components/schemas/ImageResizeRender"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The image media URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImageMediaUrl"
                }
              }
            }
          }
        },
        "summary": "Gets an URL of the image",
        "tags": [
          "image"
        ]
      }
    },
    "/image/{id}/metadata": {
      "get": {
        "description": "Returns all the metadata of an image available in its representation file.",
        "operationId": "image_getMetadata",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The image identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The image metadata",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImageMetadata"
                }
              }
            }
          }
        },
        "summary": "Gets the metadata of an image",
        "tags": [
          "image"
        ]
      }
    },
    "/image/{id}/getAllFeatures": {
      "get": {
        "description": "Returns the features of an image for all extensions.",
        "operationId": "image_getAllFeatures",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The image identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The image features for all extensions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ExtensionImageFeature"
                  }
                }
              }
            }
          }
        },
        "summary": "Gets all the features of an image",
        "tags": [
          "image"
        ]
      }
    },
    "/image/{id}/setFeatures": {
      "put": {
        "description": "Stores the provided features of an image for a given extension.",
        "operationId": "image_setFeatures",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The image identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          },
          {
            "name": "extensionId",
            "required": true,
            "in": "query",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "The image features",
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/ImageFeature"
                },
                "minItems": 0,
                "maxItems": 32
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Sets the features of an image",
        "tags": [
          "image"
        ]
      }
    },
    "/image/{id}/getAllTags": {
      "get": {
        "description": "Returns the tags of an image for all extensions.",
        "operationId": "image_getAllTags",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The image identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The image tags for all extensions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ExtensionImageTag"
                  }
                }
              }
            }
          }
        },
        "summary": "Gets all the tags of an image",
        "tags": [
          "image"
        ]
      }
    },
    "/image/{id}/setTags": {
      "put": {
        "description": "Sets the tags of an image for a given extension.",
        "operationId": "image_setTags",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The image identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          },
          {
            "name": "extensionId",
            "required": true,
            "in": "query",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "The image tags",
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "string",
                  "pattern": "a-z0-9A-Z-_.",
                  "minLength": 1,
                  "maxLength": 64
                },
                "minItems": 0,
                "maxItems": 256
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Sets the tags of an image if necessary",
        "tags": [
          "image"
        ]
      }
    },
    "/image/{id}/ensureTags": {
      "put": {
        "description": "Ensures that some tags are set on an image for a given extension.",
        "operationId": "image_ensureTags",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The image identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          },
          {
            "name": "extensionId",
            "required": true,
            "in": "query",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "The image tags",
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "string",
                  "pattern": "a-z0-9A-Z-_.",
                  "minLength": 1,
                  "maxLength": 64
                },
                "minItems": 1,
                "maxItems": 256
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Ensures that the tags are set on an image",
        "tags": [
          "image"
        ]
      }
    },
    "/image/{id}/getAllEmbeddings": {
      "get": {
        "description": "Returns the computed embeddings of an image for all extensions.",
        "operationId": "image_getAllEmbeddings",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The image identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The image embeddings related to all extensions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ExtensionImageEmbeddings"
                  }
                }
              }
            }
          }
        },
        "summary": "Gets all the embeddings of an image",
        "tags": [
          "image"
        ]
      }
    },
    "/image/{id}/getEmbeddings": {
      "get": {
        "description": "Returns the computed embeddings of an image for a given extension.",
        "operationId": "image_getEmbeddings",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The image identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          },
          {
            "name": "extensionId",
            "required": true,
            "in": "query",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The image embeddings related to the extension",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImageEmbeddings"
                }
              }
            }
          }
        },
        "summary": "Gets the embeddings of an image",
        "tags": [
          "image"
        ]
      }
    },
    "/image/{id}/setEmbeddings": {
      "put": {
        "description": "Sets the computed embeddings of an image for a given extension.",
        "operationId": "image_setEmbeddings",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The image identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          },
          {
            "name": "extensionId",
            "required": true,
            "in": "query",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "The image embeddings",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImageEmbeddings"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": ""
          }
        },
        "summary": "Sets the embeddings of an image",
        "tags": [
          "image"
        ]
      }
    },
    "/image/{id}/closestImages": {
      "get": {
        "description": "Returns the closest images for a given an image, following the embeddings of a given extension.",
        "operationId": "image_closestImages",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The image identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          },
          {
            "name": "extensionId",
            "required": true,
            "in": "query",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          },
          {
            "name": "count",
            "required": true,
            "in": "query",
            "description": "The number of images to return",
            "schema": {
              "format": "int64",
              "example": 3,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The closest image summaries, sorting by descending proximity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ImageDistance"
                  }
                }
              }
            }
          }
        },
        "summary": "Gets the closest images to the image following the embeddings of an extension",
        "tags": [
          "image"
        ]
      }
    },
    "/image/closestEmbeddingsImages": {
      "put": {
        "description": "Returns the closest images given some embeddings and for a given extension.",
        "operationId": "image_closestEmbeddingsImages",
        "parameters": [
          {
            "name": "extensionId",
            "required": true,
            "in": "query",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          },
          {
            "name": "count",
            "required": true,
            "in": "query",
            "description": "The number of images to return",
            "schema": {
              "example": 3,
              "type": "number"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "The image embeddings",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImageEmbeddings"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The closest image summaries, sorting by descending proximity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ImageDistance"
                  }
                }
              }
            }
          }
        },
        "summary": "Gets the closest images to some embeddings attached to an extension",
        "tags": [
          "image"
        ]
      }
    },
    "/image/textToImages": {
      "get": {
        "description": "Returns the closest images for a given text which will be turned into embeddings, following the embeddings of a given extension.",
        "operationId": "image_textToImages",
        "parameters": [
          {
            "name": "text",
            "required": true,
            "in": "query",
            "description": "The text",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "extensionId",
            "required": true,
            "in": "query",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          },
          {
            "name": "count",
            "required": true,
            "in": "query",
            "description": "The number of images to return",
            "schema": {
              "example": 3,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The closest image summaries, sorting by descending proximity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ImageDistance"
                  }
                }
              }
            }
          }
        },
        "summary": "Gets the closest images to a text following the embeddings of an extension",
        "tags": [
          "image"
        ]
      }
    },
    "/image/format": {
      "put": {
        "description": "Analyzes the provided image, computes its format and returns it.",
        "operationId": "image_computeFormat",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "The image file",
          "content": {
            "image/png": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/jpeg": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/webp": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/gif": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/avif": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/heif": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The image format",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ComputedImageFormat"
                }
              }
            }
          }
        },
        "summary": "Computes the format of an image",
        "tags": [
          "image"
        ]
      }
    },
    "/image/convert": {
      "put": {
        "description": "Converts the provided image into the requested format and returns it.",
        "operationId": "image_convert",
        "parameters": [
          {
            "name": "format",
            "required": true,
            "in": "query",
            "description": "The image format",
            "schema": {
              "$ref": "#/components/schemas/ImageFormat"
            }
          },
          {
            "name": "quality",
            "required": false,
            "in": "query",
            "description": "The image quality, in case of a lossy format like JPEG or WEBP",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "format": "int32",
              "type": "number"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "The image file",
          "content": {
            "image/png": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/jpeg": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/webp": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/gif": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/avif": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            },
            "image/heif": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 33554432
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The converted image, with no metadata",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/png": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/jpeg": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/webp": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/gif": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/avif": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/heif": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "summary": "Converts an image into a format",
        "tags": [
          "image"
        ]
      }
    },
    "/imageAttachment/create": {
      "post": {
        "description": "Stores a binary attachment related to an image for a given extension.",
        "operationId": "imageattachment_create",
        "parameters": [
          {
            "name": "imageId",
            "required": true,
            "in": "query",
            "description": "The image identifier",
            "schema": {
              "description": "An image identifier",
              "type": "string",
              "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
              "minLength": 36,
              "maxLength": 36,
              "example": "fb6af249-1061-48a0-9e47-026d7428d709"
            }
          },
          {
            "name": "extensionId",
            "required": true,
            "in": "query",
            "description": "The extension identifier",
            "schema": {
              "description": "An extension identifier",
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
              "example": "extension-id"
            }
          },
          {
            "name": "mimeType",
            "required": true,
            "in": "query",
            "description": "The MIME type of the attachment payload",
            "schema": {
              "minLength": 1,
              "maxLength": 32,
              "example": "image/png",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "The attachment payload",
          "content": {
            "image/png": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 1048576
              }
            },
            "image/jpeg": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 1048576
              }
            },
            "image/webp": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 1048576
              }
            },
            "image/gif": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 1048576
              }
            },
            "image/avif": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 1048576
              }
            },
            "image/heif": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 1048576
              }
            },
            "application/octet-stream": {
              "schema": {
                "type": "string",
                "format": "binary",
                "maxLength": 1048576
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The URI of the created attachment",
            "content": {
              "application/json": {
                "schema": {
                  "description": "An attachment URI",
                  "type": "string",
                  "format": "uri",
                  "pattern": "^(attachment://[-a-zA-Z0-9+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9+&@#/%=~_|]",
                  "minLength": 8,
                  "maxLength": 4096,
                  "example": "attachment://1"
                }
              }
            }
          }
        },
        "summary": "Declares an image binary attachment",
        "tags": [
          "imageAttachment"
        ]
      }
    },
    "/imageAttachment/{uri}/download": {
      "get": {
        "description": "Retrieves the payload of a binary attachment related to an image for a given extension.",
        "operationId": "imageattachment_download",
        "parameters": [
          {
            "name": "uri",
            "required": true,
            "in": "path",
            "description": "The attachment URI",
            "schema": {
              "description": "An attachment URI",
              "type": "string",
              "format": "uri",
              "pattern": "^(attachment://[-a-zA-Z0-9+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9+&@#/%=~_|]",
              "minLength": 8,
              "maxLength": 4096,
              "example": "attachment://1"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The payload of the attachment",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/png": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/jpeg": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/webp": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/gif": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/avif": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/heif": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "summary": "Downloads an image binary attachment",
        "tags": [
          "imageAttachment"
        ]
      }
    }
  },
  "info": {
    "title": "Picteus",
    "description": "The Picteus API",
    "version": "0.10.0",
    "contact": {
      "name": "douard Mercier",
      "url": "https://www.linkedin.com/in/edouardmercier",
      "email": "edouard@koppasoft.com"
    },
    "license": {
      "name": "KoppaSoft",
      "url": "https://www.koppasoft.com"
    }
  },
  "tags": [
    {
      "name": "miscellaneous"
    },
    {
      "name": "administration"
    },
    {
      "name": "settings"
    },
    {
      "name": "apiSecret"
    },
    {
      "name": "extension"
    },
    {
      "name": "repository"
    },
    {
      "name": "image"
    },
    {
      "name": "imageAttachment"
    }
  ],
  "servers": [
    {
      "url": "https://localhost:3001",
      "description": "The Picteus local HTTP server"
    }
  ],
  "components": {
    "securitySchemes": {
      "api-key": {
        "type": "apiKey",
        "in": "header",
        "name": "X-API-KEY",
        "description": "Forces the caller to be authenticated."
      }
    },
    "schemas": {
      "Settings": {
        "type": "object",
        "properties": {
          "comfyUiBaseUrl": {
            "type": "string",
            "description": "The ComfyUI base URL",
            "pattern": "^(https?)://[-a-zA-Z0-9+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9+&@#/%=~_|]$"
          }
        },
        "description": "The application overall settings"
      },
      "ApiSecretType": {
        "type": "string",
        "enum": [
          "key",
          "token"
        ],
        "description": "The secret type"
      },
      "ApiSecretSummary": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "The secret identifier",
            "example": 123
          },
          "type": {
            "description": "The secret type",
            "example": "key",
            "allOf": [
              {
                "$ref": "#/components/schemas/ApiSecretType"
              }
            ]
          },
          "creationDate": {
            "type": "number",
            "description": "The entity creation date",
            "format": "int64",
            "example": 1761384334302
          },
          "expirationDate": {
            "type": "number",
            "description": "The entity expiration date",
            "format": "int64",
            "example": 1761385316688
          },
          "name": {
            "type": "string",
            "description": "The secret name",
            "minLength": 1,
            "maxLength": 128,
            "example": "My key"
          },
          "comment": {
            "type": "string",
            "description": "The secret comment",
            "minLength": 1,
            "maxLength": 1024,
            "example": "For the xxx application"
          }
        },
        "description": "Basic information about an API secret",
        "required": [
          "id",
          "type",
          "creationDate",
          "name"
        ]
      },
      "ApiSecret": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "The secret identifier",
            "example": 123
          },
          "type": {
            "description": "The secret type",
            "example": "key",
            "allOf": [
              {
                "$ref": "#/components/schemas/ApiSecretType"
              }
            ]
          },
          "creationDate": {
            "type": "number",
            "description": "The entity creation date",
            "format": "int64",
            "example": 1761384334302
          },
          "expirationDate": {
            "type": "number",
            "description": "The entity expiration date",
            "format": "int64",
            "example": 1761385316688
          },
          "name": {
            "type": "string",
            "description": "The secret name",
            "minLength": 1,
            "maxLength": 128,
            "example": "My key"
          },
          "comment": {
            "type": "string",
            "description": "The secret comment",
            "minLength": 1,
            "maxLength": 1024,
            "example": "For the xxx application"
          },
          "scope": {
            "type": "string",
            "description": "The secret scope",
            "minLength": 1,
            "maxLength": 64,
            "example": "image:read,repository:read"
          },
          "value": {
            "type": "string",
            "description": "The secret value",
            "minLength": 1,
            "maxLength": 64,
            "example": "Z&Q78&fqkPq"
          }
        },
        "description": "Detailed information about an API secret",
        "required": [
          "id",
          "type",
          "creationDate",
          "name",
          "value"
        ]
      },
      "ManifestCapabilityId": {
        "type": "string",
        "enum": [
          "image.features",
          "image.embeddings",
          "image.tags",
          "text.embeddings"
        ],
        "description": "The identifier of the extension capability"
      },
      "ManifestCapability": {
        "type": "object",
        "properties": {
          "id": {
            "description": "The identifier of the extension capability",
            "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
            "minLength": 1,
            "maxLength": 32,
            "example": "image.embeddings",
            "allOf": [
              {
                "$ref": "#/components/schemas/ManifestCapabilityId"
              }
            ]
          }
        },
        "description": "The expression of an extension's capability",
        "required": [
          "id"
        ]
      },
      "ConfigurationCapability": {
        "type": "object",
        "properties": {
          "capability": {
            "description": "The capability",
            "allOf": [
              {
                "$ref": "#/components/schemas/ManifestCapability"
              }
            ]
          },
          "extensionIds": {
            "description": "The extensions which support the capability",
            "type": "array",
            "items": {
              "type": "string",
              "pattern": "^[a-z0-9A-Z-_.]{1,32}$"
            }
          }
        },
        "description": "The supporting extensions of a capability",
        "required": [
          "capability",
          "extensionIds"
        ]
      },
      "CommandEntity": {
        "type": "string",
        "enum": [
          "Process",
          "Images",
          "Image"
        ],
        "description": "The entity the command applies to"
      },
      "ManifestExtensionCommandOn": {
        "type": "object",
        "properties": {
          "entity": {
            "description": "The entity the command applies to",
            "allOf": [
              {
                "$ref": "#/components/schemas/CommandEntity"
              }
            ]
          },
          "withTags": {
            "description": "The tags the entity should be attached to for the command to apply",
            "type": "array",
            "items": {
              "type": "string",
              "maxLength": 64,
              "minLength": 1
            }
          }
        },
        "description": "The information on what entity an extension command applies on",
        "required": [
          "entity"
        ]
      },
      "ManifestExtensionCommandSpecification": {
        "type": "object",
        "properties": {
          "locale": {
            "type": "string",
            "description": "The locale the specification applies on",
            "minLength": 1,
            "maxLength": 8,
            "default": "en",
            "example": "fr"
          },
          "label": {
            "type": "string",
            "description": "The command label for the corresponding locale",
            "minLength": 1,
            "maxLength": 128,
            "example": "Resize an image"
          },
          "description": {
            "type": "string",
            "description": "The command description for the corresponding locale",
            "minLength": 1,
            "maxLength": 1024,
            "example": "Resizes an image given a format asked to the user."
          }
        },
        "description": "The specifications of an extension's command",
        "required": [
          "locale",
          "label",
          "description"
        ]
      },
      "ManifestExtensionCommand": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The identifier of the command",
            "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
            "minLength": 1,
            "maxLength": 32,
            "example": "convert"
          },
          "on": {
            "description": "The kind of entity and the conditions the command applies to",
            "allOf": [
              {
                "$ref": "#/components/schemas/ManifestExtensionCommandOn"
              }
            ]
          },
          "parameters": {
            "type": "object",
            "description": "The definition of the parameters the command requires"
          },
          "specifications": {
            "description": "The specifications for the command",
            "minItems": 1,
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ManifestExtensionCommandSpecification"
            }
          }
        },
        "description": "The definition of an extension's command",
        "required": [
          "id",
          "on",
          "specifications"
        ]
      },
      "ConfigurationExtensionCommand": {
        "type": "object",
        "properties": {
          "extensionId": {
            "type": "string",
            "description": "The identifier of the extension",
            "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
            "minLength": 1,
            "maxLength": 32,
            "example": "extension-id"
          },
          "command": {
            "description": "A command of the extension",
            "allOf": [
              {
                "$ref": "#/components/schemas/ManifestExtensionCommand"
              }
            ]
          }
        },
        "description": "The definition of an extension command",
        "required": [
          "extensionId",
          "command"
        ]
      },
      "ExtensionsConfiguration": {
        "type": "object",
        "properties": {
          "capabilities": {
            "description": "The capabilities",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ConfigurationCapability"
            }
          },
          "commands": {
            "description": "The commands",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ConfigurationExtensionCommand"
            }
          }
        },
        "description": "The extensions' configuration in respect of their capabilities and commands",
        "required": [
          "capabilities",
          "commands"
        ]
      },
      "ManifestRuntimeEnvironment": {
        "type": "string",
        "enum": [
          "python",
          "node"
        ],
        "description": "The unique identifier of the runtime environment"
      },
      "ManifestRuntime": {
        "type": "object",
        "properties": {
          "environment": {
            "description": "The unique identifier of the runtime environment",
            "example": "python",
            "allOf": [
              {
                "$ref": "#/components/schemas/ManifestRuntimeEnvironment"
              }
            ]
          }
        },
        "description": "The expression of an extension's runtime environment",
        "required": [
          "environment"
        ]
      },
      "ManifestEvent": {
        "type": "string",
        "enum": [
          "process.started",
          "process.runCommand",
          "extension.settings",
          "image.created",
          "image.updated",
          "image.deleted",
          "image.computeFeatures",
          "image.computeEmbeddings",
          "image.computeTags",
          "image.runCommand",
          "text.computeEmbeddings"
        ],
        "description": "The events which will trigger the instructions"
      },
      "ManifestThrottlingPolicy": {
        "type": "object",
        "properties": {
          "events": {
            "type": "array",
            "description": "The events which are involved in the throttling",
            "minItems": 1,
            "items": {
              "$ref": "#/components/schemas/ManifestEvent"
            }
          },
          "durationInMilliseconds": {
            "type": "number",
            "description": "The duration during which a maximal number of events can be handled",
            "format": "int32",
            "minimum": 0,
            "exclusiveMinimum": true,
            "example": 1000
          },
          "maximumCount": {
            "type": "number",
            "description": "The maximal number of events that be handled during the duration",
            "format": "int32",
            "minimum": 0,
            "exclusiveMinimum": true,
            "example": 10
          }
        },
        "description": "The definition on how events should be throttled",
        "required": [
          "events"
        ]
      },
      "ManifestExecution": {
        "type": "object",
        "properties": {
          "executable": {
            "type": "string",
            "description": "The executable to run",
            "minLength": 1,
            "maxLength": 512,
            "example": "python"
          },
          "arguments": {
            "description": "The arguments to provide to the executable",
            "maxItems": 64,
            "type": "array",
            "items": {
              "type": "string",
              "maxLength": 512,
              "minLength": 1
            }
          }
        },
        "description": "The specifications regarding the execution of an extension",
        "required": [
          "executable",
          "arguments"
        ]
      },
      "ManifestInstructions": {
        "type": "object",
        "properties": {
          "events": {
            "type": "array",
            "description": "The events which will trigger the instructions",
            "minItems": 1,
            "items": {
              "$ref": "#/components/schemas/ManifestEvent"
            }
          },
          "capabilities": {
            "description": "The capabilities attached to the instructions",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ManifestCapability"
            }
          },
          "throttlingPolicies": {
            "description": "The throttling policies for some events",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ManifestThrottlingPolicy"
            }
          },
          "execution": {
            "description": "The execution to run when one of the event of the instructions occurs",
            "allOf": [
              {
                "$ref": "#/components/schemas/ManifestExecution"
              }
            ]
          },
          "commands": {
            "description": "The possible commands of the event",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ManifestExtensionCommand"
            }
          }
        },
        "description": "The full specifications of an extension, including the events it handles, its capabilities, its execution and its commands",
        "required": [
          "events",
          "execution"
        ]
      },
      "UserInterfaceAnchor": {
        "type": "string",
        "enum": [
          "modal",
          "sidebar",
          "window",
          "imageDetail"
        ],
        "description": "The location where the User Interface is anchored"
      },
      "ManifestInterfaceElement": {
        "type": "object",
        "properties": {
          "anchor": {
            "description": "The location where the User Interface is anchored",
            "allOf": [
              {
                "$ref": "#/components/schemas/UserInterfaceAnchor"
              }
            ]
          },
          "url": {
            "type": "string",
            "description": "The URL of the User Interface",
            "format": "uri",
            "pattern": "^(https?://|/?)[-a-zA-Z0-9+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9+&@#/%=~_|]+$",
            "minLength": 1,
            "maxLength": 4096
          }
        },
        "description": "The definition of an extension's User Interface fragment",
        "required": [
          "anchor",
          "url"
        ]
      },
      "ManifestUserInterface": {
        "type": "object",
        "properties": {
          "elements": {
            "description": "The various elements of the User Interface",
            "minItems": 1,
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ManifestInterfaceElement"
            }
          }
        },
        "description": "The definition of all extension's User Interface fragments",
        "required": [
          "elements"
        ]
      },
      "Manifest": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The identifier of the extension",
            "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
            "minLength": 1,
            "maxLength": 32,
            "example": "extension-id"
          },
          "version": {
            "type": "string",
            "description": "The version of the extension, which should follow the semver convention",
            "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",
            "minLength": 5,
            "maxLength": 32,
            "example": "1.0.0"
          },
          "name": {
            "type": "string",
            "description": "The name of the extension",
            "pattern": "^[a-z0-9A-Z-_. ]{1,128}$",
            "minLength": 1,
            "maxLength": 128,
            "example": "My extension"
          },
          "description": {
            "type": "string",
            "description": "The description of the extension's purpose",
            "minLength": 1,
            "maxLength": 1024,
            "example": "Computes the embeddings of images."
          },
          "runtimes": {
            "description": "The required runtime environments",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ManifestRuntime"
            }
          },
          "instructions": {
            "description": "The instructions regarding the way the extension handle events",
            "minItems": 1,
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ManifestInstructions"
            }
          },
          "settings": {
            "type": "object",
            "description": "The extension settings definition",
            "example": {
              "type": "object",
              "properties": {
                "key": {
                  "type": "string",
                  "title": "Key",
                  "description": "A key."
                }
              },
              "required": [
                "key"
              ]
            }
          },
          "ui": {
            "description": "The User Interface definition of the extensions",
            "allOf": [
              {
                "$ref": "#/components/schemas/ManifestUserInterface"
              }
            ]
          }
        },
        "description": "The manifest of an extension",
        "required": [
          "id",
          "version",
          "name",
          "description",
          "runtimes",
          "instructions",
          "settings"
        ]
      },
      "ExtensionStatus": {
        "type": "string",
        "enum": [
          "enabled",
          "paused"
        ],
        "description": "The status of the extension"
      },
      "Extension": {
        "type": "object",
        "properties": {
          "manifest": {
            "description": "The extension manifest",
            "allOf": [
              {
                "$ref": "#/components/schemas/Manifest"
              }
            ]
          },
          "status": {
            "description": "The status of the extension",
            "example": "enabled",
            "allOf": [
              {
                "$ref": "#/components/schemas/ExtensionStatus"
              }
            ]
          }
        },
        "description": "The full definition of an extension",
        "required": [
          "manifest",
          "status"
        ]
      },
      "ExtensionActivityKind": {
        "type": "string",
        "enum": [
          "connecting",
          "connected",
          "error"
        ],
        "description": "The kind of activity of the extension"
      },
      "ExtensionActivity": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The identifier of the extension"
          },
          "kind": {
            "description": "The kind of activity of the extension",
            "default": "connecting",
            "example": "connected",
            "allOf": [
              {
                "$ref": "#/components/schemas/ExtensionActivityKind"
              }
            ]
          }
        },
        "description": "The activity of an extension",
        "required": [
          "id",
          "kind"
        ]
      },
      "ExtensionManual": {
        "type": "object",
        "properties": {
          "instructions": {
            "type": "string",
            "description": "The instructions",
            "minLength": 1,
            "maxLength": 131072,
            "example": "To use the extension, you need to install"
          }
        },
        "description": "The instructions of an extension",
        "required": [
          "instructions"
        ]
      },
      "ExtensionAndManual": {
        "type": "object",
        "properties": {
          "manifest": {
            "description": "The extension manifest",
            "allOf": [
              {
                "$ref": "#/components/schemas/Manifest"
              }
            ]
          },
          "status": {
            "description": "The status of the extension",
            "example": "enabled",
            "allOf": [
              {
                "$ref": "#/components/schemas/ExtensionStatus"
              }
            ]
          },
          "manual": {
            "description": "The extension manual",
            "allOf": [
              {
                "$ref": "#/components/schemas/ExtensionManual"
              }
            ]
          }
        },
        "description": "The manual and instructions of an extension",
        "required": [
          "manifest",
          "status"
        ]
      },
      "ExtensionSettings": {
        "type": "object",
        "properties": {
          "value": {
            "type": "object",
            "description": "The extension settings"
          }
        },
        "description": "The settings of an extension",
        "required": [
          "value"
        ]
      },
      "Object": {
        "type": "object",
        "properties": {}
      },
      "ExtensionGenerationOptions": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The identifier of the extension",
            "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
            "minLength": 1,
            "maxLength": 32,
            "example": "extension-id"
          },
          "version": {
            "type": "string",
            "description": "The version of the extension, which should follow the semver convention",
            "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",
            "minLength": 5,
            "maxLength": 32,
            "example": "1.0.0"
          },
          "name": {
            "type": "string",
            "description": "The name of the extension",
            "pattern": "^[a-z0-9A-Z-_. ]{1,128}$",
            "minLength": 1,
            "maxLength": 128,
            "example": "My extension"
          },
          "description": {
            "type": "string",
            "description": "The description of the extension's purpose",
            "minLength": 1,
            "maxLength": 1024,
            "example": "Computes the embeddings of images."
          },
          "author": {
            "type": "string",
            "description": "The author of the extension",
            "minLength": 1,
            "maxLength": 128,
            "example": "John Doe"
          },
          "environment": {
            "description": "The runtime the extension relies on",
            "example": "python",
            "allOf": [
              {
                "$ref": "#/components/schemas/ManifestRuntimeEnvironment"
              }
            ]
          }
        },
        "description": "The options for generating an extension",
        "required": [
          "id",
          "version",
          "name",
          "description",
          "author",
          "environment"
        ]
      },
      "RepositoryLocationType": {
        "type": "string",
        "description": "The possible types of repositories",
        "enum": [
          "file"
        ]
      },
      "RepositoryStatus": {
        "type": "string",
        "enum": [
          "UNAVAILABLE",
          "READY",
          "INDEXING",
          "UNAVAILABLE_INDEXING"
        ],
        "description": "The status of the repository"
      },
      "Repository": {
        "type": "object",
        "properties": {
          "creationDate": {
            "type": "number",
            "description": "The entity creation date",
            "format": "int64",
            "example": 1725989551416
          },
          "modificationDate": {
            "type": "number",
            "description": "The entity last modification date",
            "format": "int64",
            "example": 1760890442560
          },
          "id": {
            "type": "string",
            "description": "The unique identifier of the repository",
            "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
            "minLength": 36,
            "maxLength": 36,
            "example": "9aa0820f-6405-4b54-a01a-a6b56489a77f"
          },
          "type": {
            "description": "The type of the repository back-end location",
            "default": "file",
            "example": "file",
            "allOf": [
              {
                "$ref": "#/components/schemas/RepositoryLocationType"
              }
            ]
          },
          "url": {
            "type": "string",
            "description": "The URL of the repository back-end location",
            "format": "uri",
            "pattern": "file://.*",
            "minLength": 1,
            "maxLength": 4096,
            "example": "file:///Users/me/folder/path"
          },
          "technicalId": {
            "type": "string",
            "description": "The technical identifier of the repository",
            "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
            "minLength": 1,
            "maxLength": 32,
            "example": "technical-id"
          },
          "name": {
            "type": "string",
            "description": "The name of the repository",
            "pattern": "^[a-z0-9A-Z-_. ]{1,128}$",
            "minLength": 1,
            "maxLength": 128,
            "example": "myRepository"
          },
          "comment": {
            "type": "string",
            "description": "The comment about the repository",
            "minLength": 1,
            "maxLength": 1024,
            "example": "A very interesting series of photos."
          },
          "status": {
            "description": "The status of the repository",
            "example": "READY",
            "allOf": [
              {
                "$ref": "#/components/schemas/RepositoryStatus"
              }
            ]
          }
        },
        "description": "A warehouse of images located in the same unit",
        "required": [
          "creationDate",
          "modificationDate",
          "id",
          "type",
          "url",
          "name",
          "status"
        ]
      },
      "RepositoryActivityKind": {
        "type": "string",
        "enum": [
          "none",
          "synchronizing",
          "watching"
        ],
        "description": "The kind of activity of the repository"
      },
      "RepositoryActivity": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The unique identifier of the repository",
            "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
            "minLength": 36,
            "maxLength": 36,
            "example": "9aa0820f-6405-4b54-a01a-a6b56489a77f"
          },
          "kind": {
            "description": "The kind of activity of the repository",
            "default": "none",
            "example": "none",
            "allOf": [
              {
                "$ref": "#/components/schemas/RepositoryActivityKind"
              }
            ]
          }
        },
        "description": "The activity of a repository",
        "required": [
          "id",
          "kind"
        ]
      },
      "ExtensionImageTag": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The extension identifier",
            "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
            "minLength": 1,
            "maxLength": 32,
            "example": "extension-id"
          },
          "value": {
            "type": "string",
            "description": "The image tag value",
            "minLength": 1,
            "maxLength": 64
          }
        },
        "description": "A tag on an image for a given extension",
        "required": [
          "id",
          "value"
        ]
      },
      "ImageFormat": {
        "type": "string",
        "enum": [
          "PNG",
          "JPEG",
          "WEBP",
          "GIF",
          "AVIF",
          "HEIF"
        ],
        "description": "A filter used by the search which will limit the result entities to those having one of the provided image formats"
      },
      "SearchKeyword": {
        "type": "object",
        "properties": {
          "text": {
            "type": "string",
            "description": "The text to search for",
            "example": "comfy"
          },
          "inName": {
            "type": "boolean",
            "description": "Whether the text should be searched in the image name"
          },
          "inMetadata": {
            "type": "boolean",
            "description": "Whether the text should be searched in the image metadata"
          },
          "inFeatures": {
            "type": "boolean",
            "description": "Whether the text should be searched in the image features"
          }
        },
        "description": "The textual specifications to match when searching for images",
        "required": [
          "text",
          "inName",
          "inMetadata",
          "inFeatures"
        ]
      },
      "SearchTags": {
        "type": "object",
        "properties": {
          "values": {
            "description": "The tags to search for, i.e. images matching at least of the tags will be included in the result",
            "example": [
              "nature"
            ],
            "type": "array",
            "items": {
              "type": "string",
              "maxLength": 64,
              "minLength": 1,
              "pattern": "a-z0-9A-Z-_."
            }
          }
        },
        "description": "The matching values of tags to match when searching for images, i.e. how an image search should operate regarding the image tags",
        "required": [
          "values"
        ]
      },
      "SearchFeatureType": {
        "type": "string",
        "enum": [
          "or",
          "and"
        ],
        "description": "The statement type"
      },
      "ImageFeatureType": {
        "type": "string",
        "enum": [
          "caption",
          "description",
          "comment",
          "annotation",
          "metadata",
          "recipe",
          "other"
        ],
        "description": "All the possible types for an image feature.",
        "default": "other"
      },
      "ImageFeatureFormat": {
        "type": "string",
        "enum": [
          "string",
          "integer",
          "float",
          "boolean",
          "json",
          "xml",
          "markdown",
          "html",
          "binary"
        ],
        "description": "All the possible formats for an image feature.",
        "default": "string"
      },
      "SearchFeatureOperator": {
        "type": "string",
        "enum": [
          "equals",
          "different",
          "contains",
          "greaterThan",
          "greaterThanOrEqual",
          "lessThan",
          "lessThanOrEqual"
        ],
        "description": "The image feature operator"
      },
      "SearchFeatureCondition": {
        "type": "object",
        "properties": {
          "type": {
            "description": "The image feature type",
            "example": "nature",
            "allOf": [
              {
                "$ref": "#/components/schemas/ImageFeatureType"
              }
            ]
          },
          "format": {
            "description": "The image feature format",
            "allOf": [
              {
                "$ref": "#/components/schemas/ImageFeatureFormat"
              }
            ]
          },
          "name": {
            "type": "string",
            "description": "The image feature name",
            "minLength": 1,
            "maxLength": 64,
            "example": "field"
          },
          "operator": {
            "description": "The image feature operator",
            "allOf": [
              {
                "$ref": "#/components/schemas/SearchFeatureOperator"
              }
            ]
          },
          "value": {
            "description": "The image feature value",
            "oneOf": [
              {
                "type": "string",
                "minLength": 1,
                "maxLength": 524288
              },
              {
                "type": "number",
                "format": "int64"
              },
              {
                "type": "number",
                "format": "double"
              },
              {
                "type": "boolean"
              }
            ],
            "example": "Three women in a flower arrangement"
          }
        },
        "description": "A condition expression for filtering image features",
        "required": [
          "format",
          "operator",
          "value"
        ]
      },
      "SearchFeatures": {
        "type": "object",
        "properties": {
          "type": {
            "description": "The statement type",
            "example": "or",
            "allOf": [
              {
                "$ref": "#/components/schemas/SearchFeatureType"
              }
            ]
          },
          "condition": {
            "description": "The search condition",
            "allOf": [
              {
                "$ref": "#/components/schemas/SearchFeatureCondition"
              }
            ]
          },
          "features": {
            "description": "Other search features",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SearchFeatures"
            }
          }
        },
        "description": "The expression for filtering image features",
        "required": [
          "type",
          "condition"
        ]
      },
      "SearchPropertyRange": {
        "type": "object",
        "properties": {
          "minimum": {
            "type": "number",
            "description": "The minimal value",
            "format": "int64",
            "minimum": 0,
            "example": 0
          },
          "maximum": {
            "type": "number",
            "description": "The maximal value",
            "format": "int64",
            "example": 100
          }
        },
        "description": "The minimal and maximal value of a technical property when searching for images"
      },
      "SearchProperties": {
        "type": "object",
        "properties": {
          "width": {
            "description": "The range of the image width",
            "allOf": [
              {
                "$ref": "#/components/schemas/SearchPropertyRange"
              }
            ]
          },
          "height": {
            "description": "The range of the image height",
            "allOf": [
              {
                "$ref": "#/components/schemas/SearchPropertyRange"
              }
            ]
          },
          "weightInBytes": {
            "description": "The range of the image binary weight",
            "allOf": [
              {
                "$ref": "#/components/schemas/SearchPropertyRange"
              }
            ]
          },
          "creationDate": {
            "description": "The range of the image creation dates, expressed in milliseconds from 1970, January 1st",
            "allOf": [
              {
                "$ref": "#/components/schemas/SearchPropertyRange"
              }
            ]
          },
          "modificationDate": {
            "description": "The range of the image modification dates, expressed in milliseconds from 1970, January 1st",
            "allOf": [
              {
                "$ref": "#/components/schemas/SearchPropertyRange"
              }
            ]
          }
        },
        "description": "Technical properties to match when searching for images, i.e. how an image search should operate regarding the image technical properties"
      },
      "SearchCriteria": {
        "type": "object",
        "properties": {
          "formats": {
            "type": "array",
            "description": "A filter used by the search which will limit the result entities to those having one of the provided image formats",
            "default": [
              "PNG",
              "JPEG",
              "WEBP",
              "GIF",
              "AVIF",
              "HEIF"
            ],
            "example": [
              "PNG",
              "JPEG"
            ],
            "items": {
              "$ref": "#/components/schemas/ImageFormat"
            }
          },
          "keyword": {
            "description": "A filter which limits the result entities with the provided text specifications",
            "allOf": [
              {
                "$ref": "#/components/schemas/SearchKeyword"
              }
            ]
          },
          "tags": {
            "description": "A filter which limits the result entities with the provided tags specifications",
            "allOf": [
              {
                "$ref": "#/components/schemas/SearchTags"
              }
            ]
          },
          "features": {
            "description": "A filter which limits the result entities with the provided features specifications",
            "allOf": [
              {
                "$ref": "#/components/schemas/SearchFeatures"
              }
            ]
          },
          "properties": {
            "description": "A filter which limits the result entities with the provided technical properties",
            "allOf": [
              {
                "$ref": "#/components/schemas/SearchProperties"
              }
            ]
          }
        },
        "description": "Criteria when searching for images"
      },
      "SearchSortingProperty": {
        "type": "string",
        "enum": [
          "name",
          "creationDate",
          "modificationDate",
          "importDate",
          "updateDate",
          "binarySize",
          "width",
          "height"
        ],
        "description": "Indicates how the search result entities should be sorted"
      },
      "SearchSorting": {
        "type": "object",
        "properties": {
          "property": {
            "description": "Indicates how the search result entities should be sorted",
            "default": "name",
            "example": "name",
            "allOf": [
              {
                "$ref": "#/components/schemas/SearchSortingProperty"
              }
            ]
          },
          "isAscending": {
            "type": "boolean",
            "description": "Whether the returned entities should be sorted in ascending or descending order in respect of the property"
          }
        },
        "description": "Sorting instructions when searching for images",
        "required": [
          "property"
        ]
      },
      "SearchRange": {
        "type": "object",
        "properties": {
          "take": {
            "type": "number",
            "description": "The number of items to return",
            "format": "int64",
            "minimum": 1,
            "maximum": 1000,
            "default": 20,
            "example": 20
          },
          "skip": {
            "type": "number",
            "description": "The number of items to skip",
            "format": "int64",
            "minimum": 0,
            "default": 0,
            "example": 0
          }
        },
        "description": "A range of images to return when searching for images, i.e. how to restrict the number of entities following a search"
      },
      "ImageDimensions": {
        "type": "object",
        "properties": {
          "width": {
            "type": "number",
            "description": "The image width in pixels",
            "format": "int32",
            "minimum": 1
          },
          "height": {
            "type": "number",
            "description": "The image height in pixels",
            "format": "int32",
            "minimum": 1
          }
        },
        "description": "The dimensions of an image",
        "required": [
          "width",
          "height"
        ]
      },
      "Dates": {
        "type": "object",
        "properties": {
          "creationDate": {
            "type": "number",
            "description": "The entity creation date",
            "format": "int64",
            "example": 1725989551416
          },
          "modificationDate": {
            "type": "number",
            "description": "The entity last modification date",
            "format": "int64",
            "example": 1760890442560
          }
        },
        "description": "A pair of creation and modification dates",
        "required": [
          "creationDate",
          "modificationDate"
        ]
      },
      "ImageSummary": {
        "type": "object",
        "properties": {
          "creationDate": {
            "type": "number",
            "description": "The entity creation date",
            "format": "int64",
            "example": 1725989551416
          },
          "modificationDate": {
            "type": "number",
            "description": "The entity last modification date",
            "format": "int64",
            "example": 1760890442560
          },
          "id": {
            "type": "string",
            "description": "The unique identifier of the image",
            "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
            "minLength": 36,
            "maxLength": 36,
            "example": "fb6af249-1061-48a0-9e47-026d7428d709"
          },
          "repositoryId": {
            "type": "string",
            "description": "The unique identifier of the repository it belongs to",
            "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
            "minLength": 36,
            "maxLength": 36,
            "example": "9aa0820f-6405-4b54-a01a-a6b56489a77f"
          },
          "parentId": {
            "type": "string",
            "description": "The unique identifier of the image parent",
            "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
            "minLength": 36,
            "maxLength": 36
          },
          "name": {
            "type": "string",
            "description": "The image name",
            "minLength": 1,
            "maxLength": 512,
            "example": "fileName.png"
          },
          "format": {
            "description": "The image format",
            "example": "PNG",
            "allOf": [
              {
                "$ref": "#/components/schemas/ImageFormat"
              }
            ]
          },
          "mimeType": {
            "type": "string",
            "description": "The image MIME type",
            "minLength": 1,
            "maxLength": 32,
            "example": "image/jpeg"
          },
          "uri": {
            "type": "string",
            "description": "The image URI",
            "pattern": "file://.*",
            "minLength": 8,
            "maxLength": 4096,
            "example": "file:///Users/me/image//path/fileName.png"
          },
          "url": {
            "type": "string",
            "description": "The image URL",
            "pattern": "file://.*",
            "minLength": 8,
            "maxLength": 4096,
            "example": "file:///Users/me/image//path/fileName.png"
          },
          "sourceUrl": {
            "type": "string",
            "description": "The image source URL",
            "format": "uri",
            "pattern": "^(https?)://[-a-zA-Z0-9+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9+&@#/%=~_|]$",
            "minLength": 8,
            "maxLength": 4096,
            "example": "https://static1.smartbear.co/swagger/media/assets/images/swagger_logo.svg"
          },
          "sizeInBytes": {
            "type": "number",
            "description": "The image size in bytes",
            "minimum": 0,
            "exclusiveMinimum": true
          },
          "dimensions": {
            "description": "The image dimensions",
            "allOf": [
              {
                "$ref": "#/components/schemas/ImageDimensions"
              }
            ]
          },
          "fileDates": {
            "description": "The image file dates",
            "allOf": [
              {
                "$ref": "#/components/schemas/Dates"
              }
            ]
          }
        },
        "description": "Basic information about an image",
        "required": [
          "creationDate",
          "modificationDate",
          "id",
          "repositoryId",
          "name",
          "format",
          "mimeType",
          "uri",
          "url",
          "sizeInBytes",
          "dimensions",
          "fileDates"
        ]
      },
      "ImageSummaryList": {
        "type": "object",
        "properties": {
          "entities": {
            "description": "The image entities",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ImageSummary"
            }
          },
          "totalCount": {
            "type": "number",
            "description": "The total number of image entities",
            "format": "int64",
            "minimum": 0
          }
        },
        "description": "a list of basic information about images",
        "required": [
          "entities",
          "totalCount"
        ]
      },
      "ImageMetadata": {
        "type": "object",
        "properties": {
          "all": {
            "type": "string",
            "description": "All the image metadata, which is a JSON stringified string"
          },
          "exif": {
            "type": "string",
            "description": "The image EXIF metadata, which is a JSON stringified string"
          },
          "icc": {
            "type": "string",
            "description": "The image ICC metadata, which is a JSON stringified string"
          },
          "iptc": {
            "type": "string",
            "description": "The image IPTC metadata, which is a JSON stringified string"
          },
          "xmp": {
            "type": "string",
            "description": "The image XMP metadata, which is a JSON stringified string"
          },
          "tiffTagPhotoshop": {
            "type": "string",
            "description": "The image Adobe Photoshop (TIFFTAG_PHOTOSHOP) metadata, which is a JSON stringified string"
          },
          "others": {
            "type": "string",
            "description": "All the others image metadata, which is a JSON stringified string"
          }
        },
        "description": "The image metadata"
      },
      "PromptKind": {
        "type": "string",
        "enum": [
          "textual",
          "instructions"
        ],
        "description": "The kind of prompt"
      },
      "TextualPrompt": {
        "type": "object",
        "properties": {
          "kind": {
            "description": "The kind of prompt",
            "example": "instructions",
            "allOf": [
              {
                "$ref": "#/components/schemas/PromptKind"
              }
            ]
          },
          "text": {
            "type": "string",
            "description": "The textual prompt",
            "minLength": 1,
            "maxLength": 131072,
            "example": "A white sign with a black background"
          }
        },
        "description": "The textual prompt of an AI-based generated image",
        "required": [
          "kind",
          "text"
        ]
      },
      "InstructionsPrompt": {
        "type": "object",
        "properties": {
          "kind": {
            "description": "The kind of prompt",
            "example": "instructions",
            "allOf": [
              {
                "$ref": "#/components/schemas/PromptKind"
              }
            ]
          },
          "value": {
            "type": "object",
            "description": "The instructions-based prompt"
          }
        },
        "description": "The instructions of an AI-based generated image",
        "required": [
          "kind",
          "value"
        ]
      },
      "GenerationRecipe": {
        "type": "object",
        "properties": {
          "schemaVersion": {
            "type": "number",
            "description": "The version of the schema the hereby recipe complies to",
            "format": "int32",
            "minimum": 1,
            "maximum": 1,
            "example": 1
          },
          "id": {
            "type": "string",
            "description": "The identifier of the recipe instance",
            "minLength": 1,
            "maxLength": 64,
            "example": "820hh5e0w5rmc0ctgw38b1t4pr"
          },
          "url": {
            "type": "string",
            "description": "The URL of the recipe instance",
            "format": "uri",
            "pattern": "^(https?://|/?)[-a-zA-Z0-9+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9+&@#/%=~_|]+$",
            "minLength": 1,
            "maxLength": 4096,
            "example": "https://api.replicate.com/v1/predictions/820hh5e0w5rmc0ctgw38b1t4pr"
          },
          "modelTags": {
            "description": "The tags of the model generators",
            "example": "google/gemini-2.5-flash-image:2.5",
            "type": "array",
            "items": {
              "type": "string",
              "maxLength": 4096,
              "minLength": 1,
              "pattern": "^(([a-z0-9A-Z-_.]{1,})/)?([a-z0-9A-Z-_.]{1,})(:([a-z0-9A-Z-_.]{1,}))?$"
            }
          },
          "software": {
            "type": "string",
            "description": "The software that ran the generation",
            "pattern": "^(([a-z0-9A-Z-_.]{1,})/)?([a-z0-9A-Z-_.]{1,})(:([a-z0-9A-Z-_.]{1,}))?$",
            "minLength": 1,
            "maxLength": 128,
            "example": "comfyui"
          },
          "inputAssets": {
            "description": "The identifiers or URLs of the input assets",
            "type": "array",
            "items": {
              "type": "string",
              "maxLength": 4096,
              "minLength": 1
            }
          },
          "aspectRatio": {
            "type": "number",
            "description": "The required image aspect ratio, i.e. the result of its width by its height",
            "minimum": 0,
            "exclusiveMinimum": true,
            "example": 1.7777
          },
          "prompt": {
            "description": "The prompt which enabled to generate the image",
            "oneOf": [
              {
                "description": "In case of a prompt-based generated image",
                "$ref": "#/components/schemas/TextualPrompt"
              },
              {
                "description": "In case of a instructions-based generated image",
                "$ref": "#/components/schemas/InstructionsPrompt"
              }
            ],
            "discriminator": {
              "propertyName": "kind",
              "mapping": {
                "textual": "#/components/schemas/TextualPrompt",
                "instructions": "#/components/schemas/InstructionsPrompt"
              }
            }
          }
        },
        "description": "The image generation recipe",
        "required": [
          "schemaVersion",
          "modelTags"
        ]
      },
      "ImageFeature": {
        "type": "object",
        "properties": {
          "type": {
            "description": "The image feature type",
            "allOf": [
              {
                "$ref": "#/components/schemas/ImageFeatureType"
              }
            ]
          },
          "format": {
            "description": "The image feature format",
            "allOf": [
              {
                "$ref": "#/components/schemas/ImageFeatureFormat"
              }
            ]
          },
          "name": {
            "type": "string",
            "description": "The image feature name",
            "minLength": 1,
            "maxLength": 64,
            "example": "field"
          },
          "value": {
            "description": "The image feature value",
            "oneOf": [
              {
                "type": "string",
                "minLength": 1,
                "maxLength": 524288
              },
              {
                "type": "number",
                "format": "int64"
              },
              {
                "type": "number",
                "format": "double"
              },
              {
                "type": "boolean"
              }
            ],
            "example": "Three women in a flower arrangement"
          }
        },
        "description": "An image feature",
        "required": [
          "type",
          "format",
          "value"
        ]
      },
      "ExtensionImageFeature": {
        "type": "object",
        "properties": {
          "type": {
            "description": "The image feature type",
            "allOf": [
              {
                "$ref": "#/components/schemas/ImageFeatureType"
              }
            ]
          },
          "format": {
            "description": "The image feature format",
            "allOf": [
              {
                "$ref": "#/components/schemas/ImageFeatureFormat"
              }
            ]
          },
          "name": {
            "type": "string",
            "description": "The image feature name",
            "minLength": 1,
            "maxLength": 64,
            "example": "field"
          },
          "value": {
            "description": "The image feature value",
            "oneOf": [
              {
                "type": "string",
                "minLength": 1,
                "maxLength": 524288
              },
              {
                "type": "number",
                "format": "int64"
              },
              {
                "type": "number",
                "format": "double"
              },
              {
                "type": "boolean"
              }
            ],
            "example": "Three women in a flower arrangement"
          },
          "id": {
            "type": "string",
            "description": "The extension identifier",
            "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
            "minLength": 1,
            "maxLength": 32
          }
        },
        "description": "An image feature, along with its extension identifier",
        "required": [
          "type",
          "format",
          "value",
          "id"
        ]
      },
      "Image": {
        "type": "object",
        "properties": {
          "creationDate": {
            "type": "number",
            "description": "The entity creation date",
            "format": "int64",
            "example": 1725989551416
          },
          "modificationDate": {
            "type": "number",
            "description": "The entity last modification date",
            "format": "int64",
            "example": 1760890442560
          },
          "id": {
            "type": "string",
            "description": "The unique identifier of the image",
            "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
            "minLength": 36,
            "maxLength": 36,
            "example": "fb6af249-1061-48a0-9e47-026d7428d709"
          },
          "repositoryId": {
            "type": "string",
            "description": "The unique identifier of the repository it belongs to",
            "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
            "minLength": 36,
            "maxLength": 36,
            "example": "9aa0820f-6405-4b54-a01a-a6b56489a77f"
          },
          "parentId": {
            "type": "string",
            "description": "The unique identifier of the image parent",
            "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
            "minLength": 36,
            "maxLength": 36
          },
          "name": {
            "type": "string",
            "description": "The image name",
            "minLength": 1,
            "maxLength": 512,
            "example": "fileName.png"
          },
          "format": {
            "description": "The image format",
            "example": "PNG",
            "allOf": [
              {
                "$ref": "#/components/schemas/ImageFormat"
              }
            ]
          },
          "mimeType": {
            "type": "string",
            "description": "The image MIME type",
            "minLength": 1,
            "maxLength": 32,
            "example": "image/jpeg"
          },
          "uri": {
            "type": "string",
            "description": "The image URI",
            "pattern": "file://.*",
            "minLength": 8,
            "maxLength": 4096,
            "example": "file:///Users/me/image//path/fileName.png"
          },
          "url": {
            "type": "string",
            "description": "The image URL",
            "pattern": "file://.*",
            "minLength": 8,
            "maxLength": 4096,
            "example": "file:///Users/me/image//path/fileName.png"
          },
          "sourceUrl": {
            "type": "string",
            "description": "The image source URL",
            "format": "uri",
            "pattern": "^(https?)://[-a-zA-Z0-9+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9+&@#/%=~_|]$",
            "minLength": 8,
            "maxLength": 4096,
            "example": "https://static1.smartbear.co/swagger/media/assets/images/swagger_logo.svg"
          },
          "sizeInBytes": {
            "type": "number",
            "description": "The image size in bytes",
            "minimum": 0,
            "exclusiveMinimum": true
          },
          "dimensions": {
            "description": "The image dimensions",
            "allOf": [
              {
                "$ref": "#/components/schemas/ImageDimensions"
              }
            ]
          },
          "fileDates": {
            "description": "The image file dates",
            "allOf": [
              {
                "$ref": "#/components/schemas/Dates"
              }
            ]
          },
          "metadata": {
            "description": "The image metadata",
            "allOf": [
              {
                "$ref": "#/components/schemas/ImageMetadata"
              }
            ]
          },
          "features": {
            "description": "The image features",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExtensionImageFeature"
            }
          },
          "tags": {
            "description": "The image tags",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExtensionImageTag"
            }
          }
        },
        "description": "Comprehensive information about an image",
        "required": [
          "creationDate",
          "modificationDate",
          "id",
          "repositoryId",
          "name",
          "format",
          "mimeType",
          "uri",
          "url",
          "sizeInBytes",
          "dimensions",
          "fileDates",
          "metadata",
          "features",
          "tags"
        ]
      },
      "ApplicationMetadataItemFreeValue": {
        "type": "object",
        "properties": {},
        "description": "The free form of the application metadata of an image"
      },
      "ApplicationMetadataItem": {
        "type": "object",
        "properties": {
          "extensionId": {
            "type": "string",
            "description": "The identifier of the extension",
            "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
            "minLength": 1,
            "maxLength": 32,
            "example": "extension-id"
          },
          "value": {
            "description": "The application metadata item associated with an extension",
            "oneOf": [
              {
                "description": "The image recipe",
                "$ref": "#/components/schemas/GenerationRecipe"
              },
              {
                "description": "The image free metadata value",
                "$ref": "#/components/schemas/ApplicationMetadataItemFreeValue"
              }
            ]
          }
        },
        "description": "The application metadata item specific to an extension",
        "required": [
          "extensionId",
          "value"
        ]
      },
      "ApplicationMetadata": {
        "type": "object",
        "properties": {
          "items": {
            "description": "The application metadata items",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ApplicationMetadataItem"
            }
          }
        },
        "description": "The application metadata",
        "required": [
          "items"
        ]
      },
      "ImageResizeRender": {
        "type": "string",
        "enum": [
          "inbox",
          "outbox"
        ]
      },
      "ImageMediaUrl": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The unique identifier of the repository",
            "pattern": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",
            "minLength": 36,
            "maxLength": 36,
            "example": "9aa0820f-6405-4b54-a01a-a6b56489a77f"
          },
          "url": {
            "type": "string",
            "description": "The URL of the image that may be used to display it",
            "pattern": "^(https?)://[-a-zA-Z0-9+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9+&@#/%=~_|]$",
            "example": "https://localhost:3001/resize/?u=file%3A%2F%2F%2FUsers%2Fuser%2Fimage.jpg&w=320"
          }
        },
        "description": "The medial URL of an image",
        "required": [
          "id",
          "url"
        ]
      },
      "ExtensionImageEmbeddings": {
        "type": "object",
        "properties": {
          "values": {
            "description": "The image embeddings vector",
            "minItems": 1,
            "maxItems": 4096,
            "type": "array",
            "items": {
              "type": "number",
              "format": "double"
            }
          },
          "id": {
            "type": "string",
            "description": "The extension identifier",
            "pattern": "^[a-z0-9A-Z-_.]{1,32}$",
            "minLength": 1,
            "maxLength": 32
          }
        },
        "description": "Multiple vectorial representations of an image",
        "required": [
          "values",
          "id"
        ]
      },
      "ImageEmbeddings": {
        "type": "object",
        "properties": {
          "values": {
            "description": "The image embeddings vector",
            "minItems": 1,
            "maxItems": 4096,
            "type": "array",
            "items": {
              "type": "number",
              "format": "double"
            }
          }
        },
        "description": "A vectorial representation of an image",
        "required": [
          "values"
        ]
      },
      "ImageDistance": {
        "type": "object",
        "properties": {
          "distance": {
            "type": "number",
            "description": "The distance of the image to the embeddings",
            "format": "double",
            "minimum": 0
          },
          "image": {
            "description": "The image summary",
            "allOf": [
              {
                "$ref": "#/components/schemas/ImageSummary"
              }
            ]
          }
        },
        "description": "The vectorial distance with a reference image",
        "required": [
          "distance",
          "image"
        ]
      },
      "ComputedImageFormat": {
        "type": "object",
        "properties": {
          "value": {
            "description": "The value",
            "allOf": [
              {
                "$ref": "#/components/schemas/ImageFormat"
              }
            ]
          }
        },
        "description": "The computed format of an image",
        "required": [
          "value"
        ]
      }
    }
  },
  "security": [
    {
      "api-key": []
    }
  ]
}